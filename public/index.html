<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Futuristic Pomodoro Study Tracker with Royal Design">
    <meta name="theme-color" content="#0a1128">
    
    <title>Royal Pomodoro | Futuristic Study Tracker</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="./src/css/main.css">
    <link rel="stylesheet" href="./src/css/timer.css">
    <link rel="stylesheet" href="./src/css/dashboard.css">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="./src/assets/icons/crown.svg">
</head>
<body>
    <!-- Navigation -->
    <nav class="royal-nav">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-crown"></i>
                <h1>Royal Pomodoro</h1>
            </div>
            <div class="nav-controls">
                <button class="nav-btn" id="themeToggle">
                    <i class="fas fa-palette"></i>
                </button>
                <button class="nav-btn" id="settingsBtn">
                    <i class="fas fa-cog"></i>
                </button>
                <button class="nav-btn premium" id="premiumBtn">
                    <i class="fas fa-gem"></i>
                    <span>Premium</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Dashboard -->
    <main class="dashboard">
        <!-- Left Panel: Timer & Controls -->
        <div class="panel timer-panel">
            <div class="timer-container">
                <div class="timer-display">
                    <div class="timer-ring">
                        <svg class="progress-ring" width="400" height="400">
                            <circle class="progress-ring__background" cx="200" cy="200" r="180"></circle>
                            <circle class="progress-ring__circle" cx="200" cy="200" r="180"></circle>
                        </svg>
                        <div class="timer-text">
                            <div id="timer-minutes">25</div>
                            <div id="timer-seconds">00</div>
                            <div class="timer-mode" id="timer-mode">FOCUS</div>
                        </div>
                    </div>
                    
                    <div class="session-info">
                        <div class="session-counter">
                            <i class="fas fa-flag-checkered"></i>
                            <span>Session: <span id="session-count">1</span>/4</span>
                        </div>
                        <div class="current-task">
                            <i class="fas fa-tasks"></i>
                            <span id="current-task">No active task</span>
                        </div>
                    </div>
                </div>

                <!-- Timer Controls -->
                <div class="timer-controls">
                    <button class="control-btn royal" id="startBtn">
                        <i class="fas fa-play"></i>
                        Start
                    </button>
                    <button class="control-btn" id="pauseBtn" disabled>
                        <i class="fas fa-pause"></i>
                        Pause
                    </button>
                    <button class="control-btn warning" id="skipBtn">
                        <i class="fas fa-forward"></i>
                        Skip
                    </button>
                    <button class="control-btn danger" id="resetBtn">
                        <i class="fas fa-redo"></i>
                        Reset
                    </button>
                </div>

                <!-- Preset Durations -->
                <div class="duration-presets">
                    <button class="preset-btn active" data-minutes="25">
                        <i class="fas fa-brain"></i>
                        <span>Focus 25</span>
                    </button>
                    <button class="preset-btn" data-minutes="15">
                        <i class="fas fa-bolt"></i>
                        <span>Quick 15</span>
                    </button>
                    <button class="preset-btn" data-minutes="50">
                        <i class="fas fa-rocket"></i>
                        <span>Deep 50</span>
                    </button>
                    <button class="preset-btn" data-minutes="5">
                        <i class="fas fa-coffee"></i>
                        <span>Break 5</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Right Panel: Tasks & Analytics -->
        <div class="panel analytics-panel">
            <!-- Tasks Section -->
            <div class="tasks-section">
                <div class="section-header">
                    <h2><i class="fas fa-tasks"></i> Royal Tasks</h2>
                    <button class="add-btn" id="addTaskBtn">
                        <i class="fas fa-plus-circle"></i>
                        Add Task
                    </button>
                </div>
                
                <div class="task-input-container">
                    <input type="text" id="taskInput" placeholder="Enter a royal task...">
                    <select id="taskPriority">
                        <option value="low">Low Priority</option>
                        <option value="medium" selected>Medium Priority</option>
                        <option value="high">High Priority</option>
                        <option value="royal">Royal Priority</option>
                    </select>
                    <button class="royal" id="saveTaskBtn">
                        <i class="fas fa-save"></i>
                    </button>
                </div>

                <div class="tasks-list" id="tasksList">
                    <!-- Tasks will be dynamically added here -->
                </div>
            </div>

            <!-- Analytics Section -->
            <div class="analytics-section">
                <div class="section-header">
                    <h2><i class="fas fa-chart-line"></i> Royal Analytics</h2>
                    <div class="time-period">
                        <button class="period-btn active" data-period="week">Week</button>
                        <button class="period-btn" data-period="month">Month</button>
                        <button class="period-btn" data-period="year">Year</button>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card royal-gradient">
                        <i class="fas fa-crown"></i>
                        <h3 id="total-focus">0h 00m</h3>
                        <p>Total Focus</p>
                    </div>
                    <div class="stat-card purple-gradient">
                        <i class="fas fa-fire"></i>
                        <h3 id="current-streak">0</h3>
                        <p>Day Streak</p>
                    </div>
                    <div class="stat-card blue-gradient">
                        <i class="fas fa-check-double"></i>
                        <h3 id="tasks-completed">0</h3>
                        <p>Tasks Done</p>
                    </div>
                    <div class="stat-card gold-gradient">
                        <i class="fas fa-trophy"></i>
                        <h3 id="productivity-score">0%</h3>
                        <p>Productivity</p>
                    </div>
                </div>

                <!-- Charts -->
                <div class="chart-container">
                    <canvas id="weeklyChart"></canvas>
                </div>
            </div>
        </div>
    </main>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content royal-modal">
            <div class="modal-header">
                <h2><i class="fas fa-cog"></i> Royal Settings</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <h3><i class="fas fa-clock"></i> Timer Settings</h3>
                    <div class="setting-item">
                        <label>Focus Duration (minutes)</label>
                        <input type="number" id="focusDuration" min="5" max="60" value="25">
                    </div>
                    <div class="setting-item">
                        <label>Break Duration (minutes)</label>
                        <input type="number" id="breakDuration" min="1" max="30" value="5">
                    </div>
                    <div class="setting-item">
                        <label>Sessions per Set</label>
                        <input type="number" id="sessionsPerSet" min="1" max="10" value="4">
                    </div>
                </div>

                <div class="setting-group">
                    <h3><i class="fas fa-bell"></i> Notifications</h3>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enableNotifications" checked>
                            Enable Browser Notifications
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enableSounds" checked>
                            Enable Sound Alerts
                        </label>
                    </div>
                </div>

                <div class="setting-group">
                    <h3><i class="fas fa-palette"></i> Theme Customization</h3>
                    <div class="theme-picker">
                        <button class="theme-option royal-theme active" data-theme="royal"></button>
                        <button class="theme-option dark-theme" data-theme="dark"></button>
                        <button class="theme-option purple-theme" data-theme="purple"></button>
                        <button class="theme-option gold-theme" data-theme="gold"></button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="royal" id="saveSettings">Save Settings</button>
                <button class="danger" id="resetSettings">Reset to Default</button>
            </div>
        </div>
    </div>

    <!-- Task Modal -->
    <div class="modal" id="taskModal">
        <div class="modal-content royal-modal">
            <div class="modal-header">
                <h2><i class="fas fa-edit"></i> Edit Royal Task</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Task Title</label>
                    <input type="text" id="editTaskTitle" class="royal-input">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="editTaskDesc" class="royal-input" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>Priority</label>
                    <select id="editTaskPriority" class="royal-input">
                        <option value="low">Low</option>
                        <option value="medium">Medium</option>
                        <option value="high">High</option>
                        <option value="royal">Royal</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Estimated Pomodoros</label>
                    <input type="number" id="editTaskEstimate" class="royal-input" min="1" max="20" value="1">
                </div>
            </div>
            <div class="modal-footer">
                <button class="royal" id="saveTaskEdit">Save Changes</button>
                <button class="danger" id="deleteTask">Delete Task</button>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer"></div>

    <!-- JavaScript Modules -->
    <script src="./src/js/storage.js"></script>
    <script src="./src/js/timer.js"></script>
    <script src="./src/js/tasks.js"></script>
    <script src="./src/js/analytics.js"></script>
    <script src="./src/js/notifications.js"></script>
    <script src="./src/js/app.js"></script>
</body>
</html>
